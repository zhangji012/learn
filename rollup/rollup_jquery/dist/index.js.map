{"version":3,"file":"index.js","sources":["../src/component/layer/index.js","../src/index.js"],"sourcesContent":["import layerTmpl from './view/layer.tmpl';\r\nimport './index.less';\r\n\r\nvar layer = {\r\n  init: function () {\r\n    var _this = this;\r\n    $.tmpl(layerTmpl, {}).appendTo(\"body\");\r\n    _this.drag();\r\n    _this.offset();\r\n    $(window).on('resize', function () {\r\n      _this.offset();\r\n    })\r\n  },\r\n  // 拖拽\r\n  drag: function () {\r\n    var $wrap = $('#ve-layer');\r\n    $('#ve-layer-drag').on('mousedown', function (e) {\r\n      e.preventDefault();\r\n      var positionDiv = $wrap.offset();\r\n      var distenceX = e.pageX - positionDiv.left;\r\n      var distenceY = e.pageY - positionDiv.top;\r\n      $(document).mousemove(function (e) {\r\n        e.preventDefault();\r\n        var x = e.pageX - distenceX;\r\n        var y = e.pageY - distenceY;\r\n        if (x < 0) {\r\n          x = 0;\r\n        } else if (x > $(document).width() - $wrap.outerWidth(true)) {\r\n          x = $(document).width() - $wrap.outerWidth(true);\r\n        }\r\n\r\n        if (y < 0) {\r\n          y = 0;\r\n        } else if (y > $(document).height() - $wrap.outerHeight(true)) {\r\n          y = $(document).height() - $wrap.outerHeight(true);\r\n        }\r\n        $wrap.css({\r\n          'left': x + 'px',\r\n          'top': y + 'px'\r\n        });\r\n      });\r\n\r\n      $(document).mouseup(function () {\r\n        $(document).off('mousemove');\r\n      });\r\n    });\r\n  },\r\n  //计算坐标\r\n  offset: function () {\r\n    var $wrap = $('#ve-layer');\r\n    var x = ($(document).width() - $wrap.outerWidth(true)) / 2;\r\n    var y = ($(document).height() - $wrap.outerWidth(true)) / 2;\r\n    $wrap.css({\r\n      'left': x + 'px',\r\n      'top': y + 'px'\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport default layer\r\n\r\n","import layer from './component/layer';\n\n// https://blog.csdn.net/qq_40323256/article/details/89282801\nfunction postPlugin(option, callback) {\n  layer.init();\n  // console.log(112221111)\n  // console.log(callback)\n}\n\nexport default postPlugin\n\n// import './css/index.less';\n// import demo from './demo';\n// import post from './post.tmpl'\n\n// const text = 'this is append dom';\n// const dom = `<p>${text}</p>`;\n\n// $('body').append(dom);\n// async function initDemo () {\n//   let data = await demo();\n//   console.log(data);\n// }\n\n// initDemo();\n// console.log('render end11!')\n// const users = []\n// console.log(post)\n// // $('#post').tmpl(users).appendTo('#root');\n// $.tmpl( post, { \"Name\" : \"John Doe\" }).appendTo( \"#root\" );\n\n              \n"],"names":["layer","init","_this","$","tmpl","layerTmpl","appendTo","drag","offset","window","on","$wrap","e","preventDefault","positionDiv","distenceX","pageX","left","distenceY","pageY","top","document","mousemove","x","y","width","outerWidth","height","outerHeight","css","mouseup","off","postPlugin","option","callback"],"mappings":";;;;;;;;EAGA,IAAIA,QAAQ;EACVC,QAAM,gBAAY;EAChB,QAAIC,QAAQ,IAAZ;EACAC,MAAEC,IAAF,CAAOC,SAAP,EAAkB,EAAlB,EAAsBC,QAAtB,CAA+B,MAA/B;EACAJ,UAAMK,IAAN;EACAL,UAAMM,MAAN;EACAL,MAAEM,MAAF,EAAUC,EAAV,CAAa,QAAb,EAAuB,YAAY;EACjCR,YAAMM,MAAN;EACD,KAFD;EAGD,GATS;EAUV;EACAD,QAAM,gBAAY;EAChB,QAAII,QAAQR,EAAE,WAAF,CAAZ;EACAA,MAAE,gBAAF,EAAoBO,EAApB,CAAuB,WAAvB,EAAoC,UAAUE,CAAV,EAAa;EAC/CA,QAAEC,cAAF;EACA,UAAIC,cAAcH,MAAMH,MAAN,EAAlB;EACA,UAAIO,YAAYH,EAAEI,KAAF,GAAUF,YAAYG,IAAtC;EACA,UAAIC,YAAYN,EAAEO,KAAF,GAAUL,YAAYM,GAAtC;EACAjB,QAAEkB,QAAF,EAAYC,SAAZ,CAAsB,UAAUV,CAAV,EAAa;EACjCA,UAAEC,cAAF;EACA,YAAIU,IAAIX,EAAEI,KAAF,GAAUD,SAAlB;EACA,YAAIS,IAAIZ,EAAEO,KAAF,GAAUD,SAAlB;EACA,YAAIK,IAAI,CAAR,EAAW;EACTA,cAAI,CAAJ;EACD,SAFD,MAEO,IAAIA,IAAIpB,EAAEkB,QAAF,EAAYI,KAAZ,KAAsBd,MAAMe,UAAN,CAAiB,IAAjB,CAA9B,EAAsD;EAC3DH,cAAIpB,EAAEkB,QAAF,EAAYI,KAAZ,KAAsBd,MAAMe,UAAN,CAAiB,IAAjB,CAA1B;EACD;;EAED,YAAIF,IAAI,CAAR,EAAW;EACTA,cAAI,CAAJ;EACD,SAFD,MAEO,IAAIA,IAAIrB,EAAEkB,QAAF,EAAYM,MAAZ,KAAuBhB,MAAMiB,WAAN,CAAkB,IAAlB,CAA/B,EAAwD;EAC7DJ,cAAIrB,EAAEkB,QAAF,EAAYM,MAAZ,KAAuBhB,MAAMiB,WAAN,CAAkB,IAAlB,CAA3B;EACD;EACDjB,cAAMkB,GAAN,CAAU;EACR,kBAAQN,IAAI,IADJ;EAER,iBAAOC,IAAI;EAFH,SAAV;EAID,OAnBD;;EAqBArB,QAAEkB,QAAF,EAAYS,OAAZ,CAAoB,YAAY;EAC9B3B,UAAEkB,QAAF,EAAYU,GAAZ,CAAgB,WAAhB;EACD,OAFD;EAGD,KA7BD;EA8BD,GA3CS;EA4CV;EACAvB,UAAQ,kBAAY;EAClB,QAAIG,QAAQR,EAAE,WAAF,CAAZ;EACA,QAAIoB,IAAI,CAACpB,EAAEkB,QAAF,EAAYI,KAAZ,KAAsBd,MAAMe,UAAN,CAAiB,IAAjB,CAAvB,IAAiD,CAAzD;EACA,QAAIF,IAAI,CAACrB,EAAEkB,QAAF,EAAYM,MAAZ,KAAuBhB,MAAMe,UAAN,CAAiB,IAAjB,CAAxB,IAAkD,CAA1D;EACAf,UAAMkB,GAAN,CAAU;EACR,cAAQN,IAAI,IADJ;EAER,aAAOC,IAAI;EAFH,KAAV;EAID;EArDS,CAAZ;;ECDA;EACA,SAASQ,UAAT,CAAoBC,MAApB,EAA4BC,QAA5B,EAAsC;EACpClC,QAAMC,IAAN;EACA;EACA;EACD;;EAID;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;;;;;;;"}